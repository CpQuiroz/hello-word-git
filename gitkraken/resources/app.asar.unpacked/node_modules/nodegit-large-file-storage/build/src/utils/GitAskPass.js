'use strict';

var net = require('net');

var _process$env = process.env,
    NODEGIT_LFS_ASKPASS_STATE = _process$env.NODEGIT_LFS_ASKPASS_STATE,
    NODEGIT_LFS_ASKPASS_PORT = _process$env.NODEGIT_LFS_ASKPASS_PORT;


var request = {
  credsRequestId: NODEGIT_LFS_ASKPASS_STATE,
  property: null
};

if (process.argv[2] === 'Username') {
  request.property = 'username';
} else if (process.argv[2] === 'Password') {
  request.property = 'password';
}

if (!request.property) {
  process.exit(1);
}

var client = net.createConnection({
  port: NODEGIT_LFS_ASKPASS_PORT,
  host: 'localhost'
}, function () {
  client.pipe(process.stdout);
  client.write(JSON.stringify(request));
});